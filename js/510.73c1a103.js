"use strict";(self["webpackChunkf2e_tw_tour"]=self["webpackChunkf2e_tw_tour"]||[]).push([[510],{7118:function(t,e,i){i.d(e,{Z:function(){return x}});var a=i(3396),s=i(6419),l=i(2835),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTP///////////////////////////////////////////xR6XWcAAAALdFJOUwAgxJ7fe1vvEEAwNlOsawAAAb9JREFUOMu9lDFPwkAUgF8pxVIXSEyMYUEc1HRpjDFGFlQGtYuR4MLiYHBgMsbEyEJMdO7g1oWY+ANoCyj353x3PUqv3LnpG+5y7+t79/ruvQfw1/LW2muebF0PJah4RWKJDpbYq00SeShlWJ+kJBRo0SWCjAcLZtZJRo4XcI0syeWcWe4yHP9imJhqrgxy05yMkWmcqY4UkirzKmexX10BpzQRFQVk8fZoMj9wOapP3gk5vwvL5XKHX0qfo1HApVSpWoQ4+gyVq3ge4U5SECN39BHElhN8EAHmKOTxhwAFAZquGmrgIzS7XfqGAYCRhoZn0DsB8rSYMpbGGdwwWIktRYgKvLPZ5HdqAsS0JAHR5NK6a1jtlsvgDKHZbtvxfwINrIG7z2A0YHeuoPKLKnG/pzn2ek/4Qk7+Gw/rqHT4R1GtVusH/Qi9BTahB1R6wH9UIgGraFcOR6yGfPVbq+ok4EVty+C8W15k5TXvQlNi+px0maGqdya3WXiR6mwt072R0PcZuiNODG1f1rmJfG4n0XiSObXBfW9KB1xR4RSSVo2GcmhReKiYm9TtrmqoYhoflRNXJ+FACY3TEvyD/AC6EyjNOaWpawAAAABJRU5ErkJggg==",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURUdwTP///////////////////////////x1LVb4AAAAHdFJOUwC/I+SDrETx9Bv2AAAArklEQVQ4y2NgGHKAJVAQHTjB5JjMyzFAsQJUUrkcCzCASrpjkyyBSopjkyzFJ1lIsqRJAtBrOCRNwP7GIamARxLiARySBvgkHfBJAp3KoBIojF0SEQ3YJVnK8Ugy0lWy2NgYyGM1NjbGIlkES1Ss+CSZ8Umq45NMxycZjkWyTEkJFLZKSuKDJPiGu2Q4Pkl3bJIlSKkCQ9IIs5CCS8ILKQYVeKkGyisgWtRh6BXSADKESLbsuKXqAAAAAElFTkSuQmCC",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTP///////////////////////////////////8kBMKEAAAAJdFJOUwC/GeiGotBaNTZJzykAAAE/SURBVDjL1ZQ9T8MwEIYPQ2lGGJBgi8SXupUKIXmrgjp0K6hLNgRTNwQTW+Ef0DRG928xOdvt2UeUtTdYch7Z8b137wHsYlw8HIc4eePsE1mcsnMYRbFhahHDKg/wHJN4DnCawrVnGQqxdHBPgkcODvhn8/Vu15WDHxyOoL/10zK+UNm1dvAsZDef2IyHzQu/I3hrX6hKe+FVCk2jitJ4o1P4SLse7TisrP4vd4UXmsMV9O111atTmsMZ5fsDBwLMlaZiZSk07gSOQSewhkOCT6QYg2vYJzik8naHrddWmwct0lSWPhUl5Dn2IvQEOPLyDQRoK9YITxrEJZvR7lIqmbOAt0bcJrWl2T3KEM18ojGCpdTx9f8++stXtAO6rulgpFYLtpq3aX+MrRYGho6ZybuNmvYhBXC9Pd6KnZzQvxv1u7vEmWLzAAAAAElFTkSuQmCC",r=i.p+"img/go-top.b91b2dbf.svg";const d={class:"footer position-relative"},g=(0,a._)("img",{src:s,class:"orange-circle-left",alt:"橘色圓"},null,-1),u=(0,a._)("img",{src:s,class:"orange-circle-right",alt:"橘色圓"},null,-1),h={class:"container pt-6 pt-md-10 mt-md-10"},m={class:"row"},p=(0,a._)("div",{class:"col-md-4"},[(0,a._)("img",{src:l,class:"logo-bottom",alt:"logo"})],-1),y={class:"col-md-8 position-relative bottom-info"},w=(0,a.uE)('<div class="social-media mb-4 mt-6 mt-md-0"><img src="'+n+'" class="me-3" alt="line"><img src="'+o+'" class="me-3" alt="facebook"><img src="'+c+'" alt="instagram"></div><p class="text-white mb-2">聯絡專線：02xx-xxx-xxx</p><p class="text-white mb-4">服務據點：台北市中山區明水路636號</p>',3),A={class:"list-unstyled text-white mb-8 text-nowrap d-none d-sm-flex"},f=(0,a._)("small",{class:"text-white ps-4"},"© 2023 Copyright LET’S GO | Web by Rey Chang",-1),v={class:"go-top-area text-center"},k=(0,a._)("img",{src:r,class:"d-block",alt:"回到頂端"},null,-1),P=[k],C=(0,a._)("p",{class:"text-white fw-bold py-2"},"TOP",-1);function _(t,e,i,s,l,n){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("footer",d,[g,u,(0,a._)("div",h,[(0,a._)("div",m,[p,(0,a._)("div",y,[w,(0,a._)("ul",A,[(0,a._)("li",null,[(0,a.Uk)(" |"),(0,a.Wm)(o,{to:"/",class:"link-light text-decoration-none fw-bold mx-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("我的行程")])),_:1})]),(0,a._)("li",null,[(0,a.Uk)(" |"),(0,a.Wm)(o,{to:"/",class:"link-light text-decoration-none fw-bold mx-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("找美食")])),_:1})]),(0,a._)("li",null,[(0,a.Uk)(" |"),(0,a.Wm)(o,{to:"/",class:"link-light text-decoration-none fw-bold mx-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("找景點")])),_:1})]),(0,a._)("li",null,[(0,a.Uk)(" |"),(0,a.Wm)(o,{to:"/",class:"link-light text-decoration-none fw-bold mx-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("找旅宿")])),_:1})]),(0,a._)("li",null,[(0,a.Uk)(" |"),(0,a.Wm)(o,{to:"/",class:"link-light text-decoration-none fw-bold mx-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("找活動")])),_:1}),(0,a.Uk)("| ")])]),f])])])]),(0,a._)("div",v,[(0,a._)("div",{class:"go-top",onClick:e[0]||(e[0]=(...t)=>n.goToTop&&n.goToTop(...t))},P),C])],64)}var b={methods:{goToTop(){window.scroll({top:0,behavior:"smooth"})}}},N=i(89);const D=(0,N.Z)(b,[["render",_]]);var x=D},3571:function(t,e,i){i.r(e),i.d(e,{default:function(){return fe}});var a=i(3396),s=i(7139),l=i(9242),n=i(3794),o=i.p+"img/map.1d7851e7.svg";const c={class:"tourlist-banner"},r={class:"container-fluid h-100"},d={class:"row h-100"},g={class:"col d-flex justify-content-center align-items-center"},u={class:"main-title d-flex justify-content-center align-items-center mt-20 mt-md-0"},h={class:"display-2 fw-bold text-white d-flex align-items-center"},m={class:"h3 px-6"},p={class:"container select"},y={class:"row position-relative"},w={class:"col d-flex justify-content-center align-items-center position-relative"},A=(0,a._)("option",{value:""},"選擇地點",-1),f=["value"],v=(0,a._)("option",{value:""},"類別",-1),k=["value"],P=(0,a._)("img",{src:n,alt:"搜尋按鈕"},null,-1),C=[P],_={class:"d-flex justify-content-end map-btn-area position-absolute"},b=(0,a._)("img",{src:o,class:"img-fluid",alt:"地圖按鈕"},null,-1),N=[b],D={class:"main"},x={class:"container py-10"};function U(t,e,i,n,o,P){const b=(0,a.up)("GoHomeCircle"),U=(0,a.up)("FixPinButton"),I=(0,a.up)("LoadingView"),T=(0,a.up)("CardView"),S=(0,a.up)("FooterView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("header",c,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("div",g,[(0,a.Wm)(b),(0,a._)("div",u,[(0,a._)("h1",h,[(0,a.Uk)((0,s.zw)(o.selectCityChinese.slice(0,1))+" ",1),(0,a._)("span",m,(0,s.zw)(o.selectCity),1),(0,a.Uk)((0,s.zw)(o.selectCityChinese.slice(1,2)),1)])]),(0,a.Wm)(U)])])]),(0,a._)("div",p,[(0,a._)("div",y,[(0,a._)("div",w,[(0,a.wy)((0,a._)("select",{class:"form-select rounded-pill text-center select-location shadow mb-0 me-2 pe-4","onUpdate:modelValue":e[0]||(e[0]=t=>o.selectCity=t)},[A,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.cities,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.englishName,value:t.englishName},(0,s.zw)(t.traditionalName),9,f)))),128))],512),[[l.bM,o.selectCity]]),(0,a.wy)((0,a._)("select",{class:"form-select rounded-pill text-center select-category shadow mb-0 me-2 pe-4","onUpdate:modelValue":e[1]||(e[1]=t=>o.selectCategory=t)},[v,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.categories,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.englishName,value:t.englishName},(0,s.zw)(t.traditionalName),9,k)))),128))],512),[[l.bM,o.selectCategory]]),(0,a._)("button",{class:"btn btn-primary rounded-pill text-white search-btn shadow",onClick:e[2]||(e[2]=(...t)=>P.getCustomTourismInfo&&P.getCustomTourismInfo(...t))},C)]),(0,a._)("div",_,[(0,a._)("button",{class:"btn rounded-pill map-btn d-inline-block shadow bg-white","data-bs-trigger":"manual","data-bs-placement":"top","data-bs-custom-class":"custom-tooltip",title:"查看地圖",ref:"showTip",onClick:e[3]||(e[3]=(...t)=>P.lookMap&&P.lookMap(...t)),onMouseenter:e[4]||(e[4]=(...t)=>P.showToolTips&&P.showToolTips(...t)),onMouseleave:e[5]||(e[5]=(...t)=>P.closeToolTips&&P.closeToolTips(...t))},N,544)])])])]),(0,a._)("div",D,[(0,a.Wm)(I),(0,a._)("div",x,[(0,a.Wm)(T,{"card-data":o.tourData},null,8,["card-data"])])]),(0,a.Wm)(S)],64)}i(7658);var I=i(7118),T=i(8611),S=i(1441),H=i(3968);const R={class:"mb-5 mt-3"},E={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3"},B={class:"card card-info position-relative border-0 h-100"},K=["src","alt"],W={class:"card-body card-info text-white shadow-layer"},G={class:"pin bg-white"},Y=["onClick"],J={key:0},M=(0,a._)("img",{src:T,alt:"已釘選"},null,-1),O=[M],Z={key:1},q=(0,a._)("img",{src:S,alt:"未釘選"},null,-1),L=[q],j={class:"d-flex flex-column h-100 justify-content-end"},z=(0,a._)("div",{class:"tag mb-2"},[(0,a._)("span",{class:"bg-primary py-1 px-2 rounded"},"景點")],-1),F={class:"card-title fw-bold"},Q={class:"location"},V=(0,a._)("img",{src:H,alt:"位置"},null,-1),X={class:"card card-info position-relative border-0 h-100"},$=["src","alt"],tt={class:"card-body card-info text-white shadow-layer"},et={class:"pin bg-white"},it=["onClick"],at={key:0},st=(0,a._)("img",{src:T,alt:"已釘選"},null,-1),lt=[st],nt={key:1},ot=(0,a._)("img",{src:S,alt:"未釘選"},null,-1),ct=[ot],rt={class:"d-flex flex-column h-100 justify-content-end"},dt=(0,a._)("div",{class:"tag mb-2"},[(0,a._)("span",{class:"bg-danger py-1 px-2 rounded"},"美食")],-1),gt={class:"card-title fw-bold"},ut={class:"location"},ht=(0,a._)("img",{src:H,alt:"位置"},null,-1),mt={class:"card card-info position-relative border-0 h-100"},pt=["src","alt"],yt={class:"card-body card-info text-white shadow-layer"},wt={class:"pin bg-white"},At=["onClick"],ft={key:0},vt=(0,a._)("img",{src:T,alt:"已釘選"},null,-1),kt=[vt],Pt={key:1},Ct=(0,a._)("img",{src:S,alt:"未釘選"},null,-1),_t=[Ct],bt={class:"d-flex flex-column h-100 justify-content-end"},Nt=(0,a._)("div",{class:"tag mb-2"},[(0,a._)("span",{class:"bg-secondary py-1 px-2 rounded"},"旅宿")],-1),Dt={class:"card-title fw-bold"},xt={class:"location"},Ut=(0,a._)("img",{src:H,alt:"位置"},null,-1),It={class:"card card-info position-relative border-0 h-100"},Tt=["src","alt"],St={class:"card-body card-info text-white shadow-layer"},Ht={class:"pin bg-white"},Rt=["onClick"],Et={key:0},Bt=(0,a._)("img",{src:T,alt:"已釘選"},null,-1),Kt=[Bt],Wt={key:1},Gt=(0,a._)("img",{src:S,alt:"未釘選"},null,-1),Yt=[Gt],Jt={class:"d-flex flex-column h-100 justify-content-end"},Mt=(0,a._)("div",{class:"tag mb-2"},[(0,a._)("span",{class:"bg-success py-1 px-2 rounded"},"活動")],-1),Ot={class:"card-title fw-bold"},Zt={class:"location"},qt=(0,a._)("img",{src:H,alt:"位置"},null,-1),Lt={key:0,class:"container"},jt=(0,a.uE)('<div class="row justify-content-center"><div class="col-10"><div class="card"><div class="card-body text-center"><p class="mb-0">很抱歉，目前沒有相關資訊</p></div></div></div></div>',1),zt=[jt];function Ft(t,e,i,l,n,o){const c=(0,a.up)("router-link"),r=(0,a.up)("PaginationView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",R,[(0,a._)("div",E,[n.isScenicSpot?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(n.currentPageData,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.ScenicSpotID},[(0,a._)("div",B,[(0,a._)("img",{src:t.Picture.PictureUrl1,class:"card-img",alt:t.Picture?.PictureDescription1},null,8,K),(0,a._)("div",W,[(0,a._)("div",G,[(0,a._)("a",{class:"d-flex justify-content-center align-items-center h-100",onClick:e=>o.switchPinItem(t.ScenicSpotID,"ScenicSpot")},[n.pin.find((e=>e.id===t.ScenicSpotID))?((0,a.wg)(),(0,a.iD)("span",J,O)):((0,a.wg)(),(0,a.iD)("span",Z,L))],8,Y)]),(0,a._)("div",j,[z,(0,a._)("h5",F,(0,s.zw)(t.ScenicSpotName),1),(0,a._)("p",Q,[V,(0,a.Uk)(" "+(0,s.zw)(t.City),1)]),(0,a.Wm)(c,{to:{path:"/tourdetail",query:{id:t.ScenicSpotID,city:n.city,category:n.category}},class:"stretched-link"},null,8,["to"])])])])])))),128)):(0,a.kq)("",!0),n.isRestaurant?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.currentPageData,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.RestaurantID},[(0,a._)("div",X,[(0,a._)("img",{src:t.Picture.PictureUrl1,class:"card-img",alt:t.Picture?.PictureDescription1},null,8,$),(0,a._)("div",tt,[(0,a._)("div",et,[(0,a._)("a",{class:"d-flex justify-content-center align-items-center h-100",onClick:e=>o.switchPinItem(t.RestaurantID,"Restaurant")},[n.pin.find((e=>e.id===t.RestaurantID))?((0,a.wg)(),(0,a.iD)("span",at,lt)):((0,a.wg)(),(0,a.iD)("span",nt,ct))],8,it)]),(0,a._)("div",rt,[dt,(0,a._)("h5",gt,(0,s.zw)(t.RestaurantName),1),(0,a._)("p",ut,[ht,(0,a.Uk)(" "+(0,s.zw)(t.City),1)]),(0,a.Wm)(c,{to:{path:"/tourdetail",query:{id:t.RestaurantID,city:n.city,category:n.category}},class:"stretched-link"},null,8,["to"])])])])])))),128)):(0,a.kq)("",!0),n.isHotel?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:2},(0,a.Ko)(n.currentPageData,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.HotelID},[(0,a._)("div",mt,[(0,a._)("img",{src:t.Picture.PictureUrl1,class:"card-img",alt:t.Picture?.PictureDescription1},null,8,pt),(0,a._)("div",yt,[(0,a._)("div",wt,[(0,a._)("a",{class:"d-flex justify-content-center align-items-center h-100",onClick:e=>o.switchPinItem(t.HotelID,"Hotel")},[n.pin.find((e=>e.id===t.HotelID))?((0,a.wg)(),(0,a.iD)("span",ft,kt)):((0,a.wg)(),(0,a.iD)("span",Pt,_t))],8,At)]),(0,a._)("div",bt,[Nt,(0,a._)("h5",Dt,(0,s.zw)(t.HotelName),1),(0,a._)("p",xt,[Ut,(0,a.Uk)(" "+(0,s.zw)(t.City),1)]),(0,a.Wm)(c,{to:{path:"/tourdetail",query:{id:t.HotelID,city:n.city,category:n.category}},class:"stretched-link"},null,8,["to"])])])])])))),128)):(0,a.kq)("",!0),n.isActivity?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:3},(0,a.Ko)(n.currentPageData,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.ActivityID},[(0,a._)("div",It,[(0,a._)("img",{src:t.Picture.PictureUrl1,class:"card-img",alt:t.Picture?.PictureDescription1},null,8,Tt),(0,a._)("div",St,[(0,a._)("div",Ht,[(0,a._)("a",{class:"d-flex justify-content-center align-items-center h-100",onClick:e=>o.switchPinItem(t.ActivityID,"Activity")},[n.pin.find((e=>e.id===t.ActivityID))?((0,a.wg)(),(0,a.iD)("span",Et,Kt)):((0,a.wg)(),(0,a.iD)("span",Wt,Yt))],8,Rt)]),(0,a._)("div",Jt,[Mt,(0,a._)("h5",Ot,(0,s.zw)(t.ActivityName),1),(0,a._)("p",Zt,[qt,(0,a.Uk)(" "+(0,s.zw)(t.City),1)]),(0,a.Wm)(c,{to:{path:"/tourdetail",query:{id:t.ActivityID,city:n.city,category:n.category}},class:"stretched-link"},null,8,["to"])])])])])))),128)):(0,a.kq)("",!0)]),0===n.currentPageData.length?((0,a.wg)(),(0,a.iD)("div",Lt,zt)):(0,a.kq)("",!0)]),0!==n.currentPageData.length?((0,a.wg)(),(0,a.j4)(r,{key:0,"all-pages-data":n.pageInfo,onEmitGetPage:o.processPageData},null,8,["all-pages-data","onEmitGetPage"])):(0,a.kq)("",!0)],64)}const Qt={class:"container pt-5"},Vt={"aria-label":"Page navigation"},Xt={class:"pagination justify-content-center"},$t=(0,a._)("span",{"aria-hidden":"true"},"«",-1),te=[$t],ee=["onClick"],ie=(0,a._)("span",{"aria-hidden":"true"},"»",-1),ae=[ie];function se(t,e,i,n,o,c){return(0,a.wg)(),(0,a.iD)("div",Qt,[(0,a._)("nav",Vt,[(0,a._)("ul",Xt,[(0,a._)("li",{class:(0,s.C_)(["page-item",{disabled:o.pageInfo.isFirstPage}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,l.iM)((t=>c.changePage(o.pageInfo.currentPage-1)),["prevent"]))},te)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.allPagesData.totalPages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["page-item",{active:t===o.pageInfo.currentPage}]),key:t+"12"},[(0,a._)("a",{class:"page-link",href:"#",onClick:(0,l.iM)((e=>c.changePage(t)),["prevent"])},(0,s.zw)(t),9,ee)],2)))),128)),(0,a._)("li",{class:(0,s.C_)(["page-item",{disabled:o.pageInfo.isLastPage}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,l.iM)((t=>c.changePage(o.pageInfo.currentPage+1)),["prevent"]))},ae)],2)])])])}var le=i(422),ne={props:{allPagesData:{type:Object}},data(){return{pageInfo:{totalPages:1,currentPage:1,isFirstPage:!0,isLastPage:!1}}},methods:{changePage(t){this.$emit("emit-get-page",t),this.pageInfo.currentPage=t,this.pageInfo.isFirstPage=1===t,this.pageInfo.currentPage===this.allPagesData.totalPages?this.pageInfo.isLastPage=!0:this.pageInfo.isLastPage=!1,window.scrollTo({top:0,behavior:"smooth"})}},mounted(){le.Z.on("first-page",(()=>{this.changePage(1)}))}},oe=i(89);const ce=(0,oe.Z)(ne,[["render",se]]);var re=ce,de={components:{PaginationView:re},props:{cardData:{type:Array}},data(){return{filterData:[],currentPageData:[],pageInfo:{totalPages:1,currentPage:1,isFirstPage:!0,isLastPage:!1},isScenicSpot:!1,isRestaurant:!1,isHotel:!1,isActivity:!1,city:"",category:"",undefinedCard:i(5403),pin:JSON.parse(localStorage.getItem("pin-items"))||[]}},watch:{cardData(){const t=this.cardData.map((t=>{void 0===t.Picture.PictureUrl1&&(t.Picture.PictureUrl1=this.undefinedCard);const e=/\/d\/([^/]+)\//,i="https://drive.google.com/uc?export=view&id=";if(t.Picture.PictureUrl1.startsWith("https://drive.google.com/file/d/")){const a=t.Picture.PictureUrl1.match(e)[1];t.Picture.PictureUrl1=`${i}${a}`}return(t.Picture.PictureUrl1.startsWith("https://2022.art-taipei")||t.Picture.PictureUrl1.startsWith("https://mw/cufiles")||t.Picture.PictureUrl1.startsWith("https://www.facebook")||t.Picture.PictureUrl1.startsWith("https://www.taiwantourbus")||t.Picture.PictureUrl1.startsWith("https://www.eastcoast-nsa")||t.Picture.PictureUrl1.startsWith("https://ppt.cc"))&&(t.Picture.PictureUrl1=this.undefinedCard),t}));this.filterData=t,this.processPageData()},$route(){this.getCategoryInfo()}},methods:{processPageData(t=1){const e=48;this.pageInfo.totalPages=Math.ceil(this.filterData.length/e);const i=e*t-e+1,a=e*t;this.currentPageData=[],this.filterData.forEach(((t,e)=>{e+1>=i&&e+1<=a&&this.currentPageData.push(t)}))},getCategoryInfo(){const{city:t,category:e}=this.$route.query;this.isScenicSpot="ScenicSpot"===e,this.isRestaurant="Restaurant"===e,this.isHotel="Hotel"===e,this.isActivity="Activity"===e,this.city=t,this.category=e},switchPinItem(t,e){const i={id:t,category:e},a=this.pin.findIndex((t=>t.id===i.id));-1===a?this.pin.push(i):this.pin.splice(a,1),le.Z.emit("get-pin-items",this.pin)}},mounted(){this.getCategoryInfo(),le.Z.on("get-pin-items",(t=>{this.pin=t}))}};const ge=(0,oe.Z)(de,[["render",Ft]]);var ue=ge,he=i(3942),me=i(6863),pe=i(9104),ye=i(2166),we={components:{FooterView:I.Z,CardView:ue,FixPinButton:he.Z,GoHomeCircle:me.Z,LoadingView:pe.Z},data(){return{selectCity:"",selectCategory:"",selectCityChinese:"台灣",isLoading:!1,tourData:[],cities:[{traditionalName:"臺北市",englishName:"Taipei"},{traditionalName:"新北市",englishName:"NewTaipei"},{traditionalName:"桃園市",englishName:"Taoyuan"},{traditionalName:"臺中市",englishName:"Taichung"},{traditionalName:"臺南市",englishName:"Tainan"},{traditionalName:"高雄市",englishName:"Kaohsiung"},{traditionalName:"基隆市",englishName:"Keelung"},{traditionalName:"新竹市",englishName:"Hsinchu"},{traditionalName:"新竹縣",englishName:"HsinchuCounty"},{traditionalName:"苗栗縣",englishName:"MiaoliCounty"},{traditionalName:"彰化縣",englishName:"ChanghuaCounty"},{traditionalName:"南投縣",englishName:"NantouCounty"},{traditionalName:"雲林縣",englishName:"YunlinCounty"},{traditionalName:"嘉義縣",englishName:"ChiayiCounty"},{traditionalName:"嘉義市",englishName:"Chiayi"},{traditionalName:"屏東縣",englishName:"PingtungCounty"},{traditionalName:"宜蘭縣",englishName:"YilanCounty"},{traditionalName:"花蓮縣",englishName:"HualienCounty"},{traditionalName:"臺東縣",englishName:"TaitungCounty"},{traditionalName:"金門縣",englishName:"KinmenCounty"},{traditionalName:"澎湖縣",englishName:"PenghuCounty"},{traditionalName:"連江縣",englishName:"LienchiangCounty"}],categories:[{traditionalName:"觀光景點",englishName:"ScenicSpot"},{traditionalName:"道地美食",englishName:"Restaurant"},{traditionalName:"特色旅宿",englishName:"Hotel"},{traditionalName:"精彩活動",englishName:"Activity"}],token:JSON.parse(localStorage.getItem("TdxToken"))||[],pin:JSON.parse(localStorage.getItem("pin-items"))||[],toolTipModal:""}},methods:{getCustomTourismInfo(){if(""===this.selectCity||""===this.selectCategory)return;le.Z.emit("start-loading");const t=`https://tdx.transportdata.tw/api/basic/v2/Tourism/${this.selectCategory}/${this.selectCity}?%24top=300&%24format=JSON`;this.$http.get(t,{headers:{authorization:"Bearer "+this.token}}).then((t=>{this.tourData=t.data,this.$router.replace({name:"旅遊清單頁面",query:{city:this.selectCity,category:this.selectCategory}}),le.Z.emit("stop-loading"),le.Z.emit("first-page")})).catch((t=>{console.log(t)}))},firstEnterTourList(){const{city:t,category:e}=this.$route.query;this.selectCity=t,this.selectCategory=e,le.Z.emit("start-loading");const i=`https://tdx.transportdata.tw/api/basic/v2/Tourism/${e}/${t}?%24top=300&%24format=JSON`;this.$http.get(i,{headers:{authorization:"Bearer "+this.token}}).then((t=>{this.tourData=t.data,le.Z.emit("stop-loading")})).catch((t=>{console.log(t)}))},openPinItems(){this.$refs.pinItemsModalRef.openModal()},lookMap(){this.closeToolTips(),this.$router.push({name:"map",query:{city:this.selectCity,category:this.selectCategory}})},showToolTips(){this.toolTipModal.show()},closeToolTips(){this.toolTipModal.hide()}},watch:{selectCity(){this.cities.forEach((t=>{t.englishName===this.selectCity&&(this.selectCityChinese=t.traditionalName)}))},pin:{handler(){localStorage.setItem("pin-items",JSON.stringify(this.pin))},deep:!0}},mounted(){this.firstEnterTourList(),le.Z.on("get-pin-items",(t=>{this.pin=t})),le.Z.on("delete-pin-items",(t=>{this.pin=t})),this.toolTipModal=new ye.u(this.$refs.showTip)}};const Ae=(0,oe.Z)(we,[["render",U]]);var fe=Ae},3794:function(t,e,i){t.exports=i.p+"img/search.2274fa5d.svg"},5403:function(t,e,i){t.exports=i.p+"img/card-list-page.5c07a3a5.jpg"}}]);
//# sourceMappingURL=510.73c1a103.js.map